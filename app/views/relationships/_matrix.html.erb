<table class="table table-bordered table-fit" id="editableTable">
	<thead>
		<tr>
			<th scope="col"></th>
			<% @end_artifacts.each do |end_artifact| %>
				<th scope="col" data-id=<%="#{end_artifact.id}"%>>
					<%= link_to end_artifact.code, [@project, @demand, end_artifact] %>
				</th>
			<% end %>
		</tr>
	</thead>
	<tbody>
		<% @origin_artifacts.each do |origin_artifact| %>
			<tr>
				<th scope="row">
						<%= link_to origin_artifact.code, [@project, @demand, origin_artifact] %>
				</th>
				<% @end_artifacts.each do |end_artifact| %>
					<% if origin_artifact.id == end_artifact.id %>
						<td style="background-color: grey"></td>
					<% else %>
							<%
								r = @relationships.where("relationships.origin_artifact_id = ?", origin_artifact.id)
								                  .where("relationships.end_artifact_id = ?", end_artifact.id).first
							%>
							<% if !r.nil? %>
								<td style="background-color: #007bff">
								<input class="checkbox" type="checkbox" name="" origin-artifact-id="<%= origin_artifact.id %>" end-artifact-id="<%= end_artifact.id %>" relationship-id="<%= r.id %>" checked="true">
							<% else %>
								<td>
								<input class="checkbox" type="checkbox" name="" origin-artifact-id="<%= origin_artifact.id %>" end-artifact-id="<%= end_artifact.id %>" relationship-id>
							<% end %>
						</td>
					<% end %>
				<% end %>
			</tr>
		<% end %>
	</tbody>
</table>