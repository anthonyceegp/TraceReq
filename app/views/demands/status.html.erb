<!-- prepare a DOM container with width and height -->
<div id="main" style="width: 100%;height:400px;"></div>
<script type="text/javascript">
    // based on prepared DOM, initialize echarts instance
    var myChart = echarts.init(document.getElementById('main'));

    // specify chart configuration item and data
  var  option = {
    color: ['#ff0000', '#00cc66', '#1495eb'],
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        type: 'scroll',
        orient: 'vertical',
        right: 10,
        top: 20,
        bottom: 20,
        data: <%= raw @legends.to_json %>
    },
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: <%= raw @days.to_json %>
    },
    yAxis: {
        type: 'value',
        max: 100,
        axisLabel: {
            formatter: '{value}%'
        },
        name: 'Percent of Requirement',
        nameLocation: 'middle',
        nameGap: 50
    },
    series: <%= raw @series.to_json %>
};

    // use configuration item and data specified to show chart
    myChart.setOption(option);
</script>